jQuery(document).ready((function(a){"use strict";a(".wbs-p-title").html();jQuery('button[name="add-to-cart"]:not(.wbs-ajax-add-to-cart)').each((function(){jQuery(this).closest(".woocommerce-boost-sales").length>0||jQuery(this).hasClass("wbs-ajax-add-to-cart")||jQuery(this).hasClass("pisol_buy_now_button")||jQuery(this).remove()})),jQuery("button.single_add_to_cart_button:not(.wbs-ajax-add-to-cart)").each((function(){jQuery(this).closest(".woocommerce-boost-sales").length>0||jQuery(this).hasClass("pisol_buy_now_button")||jQuery(this).remove()})),jQuery('[name="variation_id"]').length>0&&jQuery('[name="variation_id"]').each((function(){var a=jQuery(this),t=a.val();parseInt(t)>0&&t?a.closest("form.cart").find(".wbs-ajax-add-to-cart").removeClass("disabled"):a.closest("form.cart").find(".wbs-ajax-add-to-cart").addClass("disabled"),a.on("change",(function(){var a=jQuery(this).val();parseInt(a)>0&&a?jQuery(this).closest("form.cart").find(".wbs-ajax-add-to-cart").removeClass("disabled"):jQuery(this).closest("form.cart").find(".wbs-ajax-add-to-cart").addClass("disabled")}))})),"undefined"!=typeof wbs_wacv?wbs_wacv.compatible&&document.cookie.search(/wacv_get_email/i)>0&&e():e();let t=!1;function e(){jQuery(".wbs-ajax-add-to-cart").on("click",(function(a){t=!1,a.preventDefault();var e=jQuery(this),s=jQuery("#wbs-content-upsells"),o=s.find(".wbs-price-total");if(e.hasClass("disabled"))return;var r=e.closest(".cart"),d=r.find('input[name="product_id"]').val()||r.find('input[name="add-to-cart"]').val(),i=r.serialize();e.addClass("loading"),s.addClass("wbs-adding-to-cart"),e.closest("form").find(".added_to_cart").remove();let c=e.hasClass("wbs-is-grouped");jQuery.ajax({type:"POST",data:"action=wbs_ajax_add_to_cart&"+i,url:woocommerce_boost_sales_params.url,success:function(a){if(a){if(jQuery(document.body).trigger("updated_wc_div"),a.html){var r=jQuery(".wbs-add-to-cart-notices-ajax").html();jQuery(".wbs-add-to-cart-notices-ajax").html(r+a.html)}if(a.hasOwnProperty("variation_image_url")&&a.variation_image_url&&s.find(".wbs-p-image").find("img").attr("src",a.variation_image_url),a.hasOwnProperty("total")&&a.total&&s.find(".wbs-current_total_cart").html(a.total),a.hasOwnProperty("added_to_cart")&&Object.keys(a.added_to_cart).length){if(jQuery(".vi-wbs-headline").css({visibility:"hidden",opacity:0}),s.css({opacity:0,display:"flex",visibility:"visible"}).animate({opacity:1},300),0==wbs_add_to_cart_params.submit&&woo_boost_sale.slider(),jQuery(".wbs-archive-upsells").length>0&&jQuery("html").addClass("wbs-html-overflow"),clearTimeout(cross_sell_init),woo_boost_sale.hide_cross_sell(),c)jQuery(".wbs-p-quantity").find(".wbs-p-quantity-number").text(a.grouped_quantity),o.find(".wbs-money").html(a.grouped_total);else{let t=Object.values(a.added_to_cart)[0];if(jQuery(".wbs-p-quantity").find(".wbs-p-quantity-number").text(t.quantity),o.find(".wbs-money").html(t.formatted_price),a.added_to_cart[d].variation){let t=Object.values(a.added_to_cart[d].variation);if(t.length>0){let e='<span class="wbs-added-attributes">'+t.join(", ")+"</span>";jQuery(".wbs-p-title").find(".wbs-p-url").html(wbs_add_to_cart_params.product_title+" - "+e),s.find(".upsell-title").html(wbs_add_to_cart_params.message_bought+" - "+e),a.added_to_cart[d].variation_image&&s.find(".wbs-p-image img").eq(0).replaceWith(a.added_to_cart[d].variation_image)}}}wbs_add_to_cart_params.hasOwnProperty("auto_open_cart")&&wbs_add_to_cart_params.auto_open_cart&&(jQuery(".xoo-wsc-modal").hasClass("xoo-wsc-active")||jQuery(".xoo-wsc-basket").click()),jQuery("#nm-menu-cart-btn").click(),e.after(' <a href="'+wbs_add_to_cart_params.cart_url+'" class="added_to_cart wc-forward" title="'+wbs_add_to_cart_params.i18n_view_cart+'">'+wbs_add_to_cart_params.i18n_view_cart+"</a>"),e.addClass("added")}if(a.hasOwnProperty("discount_bar_html")){let e=a.discount_bar_html;e.hasOwnProperty("code")&&(200==e.code?(woocommerce_boost_sales_params.show_thank_you=!1,t=!0):201==e.code||e.code)}}jQuery(document).trigger("wbs_after_successful_ajax_add_to_cart",[a])},error:function(a){console.log(a)},complete:function(a){e.removeClass("loading"),s.removeClass("wbs-adding-to-cart")}})}))}jQuery(document.body).on("wc_fragments_refreshed",(function(a){woocommerce_boost_sales_params.auto_redirect&&woocommerce_boost_sales_params.auto_redirect_time&&t&&(jQuery(".auto-redirect").html(woocommerce_boost_sales_params.auto_redirect_message),woo_boost_sale.counter(jQuery(".auto-redirect span"),woocommerce_boost_sales_params.auto_redirect_time),t=!1)}))}));