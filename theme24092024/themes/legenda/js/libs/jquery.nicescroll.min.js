(function(e){if(typeof define==="function"&&define.amd){define(["jquery"],e)}else if(typeof exports==="object"){module.exports=e(require("jquery"))}else{e(jQuery)}})(function(e){"use strict";var M=false,C=false,N=0,P=2e3,R=0;var _=e,I=document,O=window,Y=_(O);var H=[];function r(){var e=I.currentScript||function(){var e=I.getElementsByTagName("script");return e.length?e[e.length-1]:false}();var r=e?e.src.split("?")[0]:"";return r.split("/").length>0?r.split("/").slice(0,-1).join("/")+"/":""}var B=O.requestAnimationFrame||O.webkitRequestAnimationFrame||O.mozRequestAnimationFrame||false;var X=O.cancelAnimationFrame||O.webkitCancelAnimationFrame||O.mozCancelAnimationFrame||false;if(!B){var s=0;B=function(e,r){var i=(new Date).getTime();var t=Math.max(0,16-(i-s));var o=O.setTimeout(function(){e(i+t)},t);s=i+t;return o};X=function(e){O.clearTimeout(e)}}else{if(!O.cancelAnimationFrame)X=function(e){}}var D=O.MutationObserver||O.WebKitMutationObserver||false;var A=Date.now||function(){return(new Date).getTime()};var q={zindex:"auto",cursoropacitymin:0,cursoropacitymax:1,cursorcolor:"#424242",cursorwidth:"6px",cursorborder:"1px solid #fff",cursorborderradius:"5px",scrollspeed:40,mousescrollstep:9*3,touchbehavior:false,emulatetouch:false,hwacceleration:true,usetransition:true,boxzoom:false,dblclickzoom:true,gesturezoom:true,grabcursorenabled:true,autohidemode:true,background:"",iframeautoresize:true,cursorminheight:32,preservenativescrolling:true,railoffset:false,railhoffset:false,bouncescroll:true,spacebarenabled:true,railpadding:{top:0,right:0,left:0,bottom:0},disableoutline:true,horizrailenabled:true,railalign:"right",railvalign:"bottom",enabletranslate3d:true,enablemousewheel:true,enablekeyboard:true,smoothscroll:true,sensitiverail:true,enablemouselockapi:true,cursorfixedheight:false,directionlockdeadzone:6,hidecursordelay:400,nativeparentscrolling:true,enablescrollonselection:true,overflowx:true,overflowy:true,cursordragspeed:.3,rtlmode:"auto",cursordragontouch:false,oneaxismousemode:"auto",scriptpath:r(),preventmultitouchscrolling:true,disablemutationobserver:false,enableobserver:true,scrollbarid:false,scrollCLass:false};var o=false;var j=function(){if(o)return o;var e=I.createElement("DIV"),s=e.style,r=navigator.userAgent,i=navigator.platform,l={};l.haspointerlock="pointerLockElement"in I||"webkitPointerLockElement"in I||"mozPointerLockElement"in I;l.isopera="opera"in O;l.isopera12=l.isopera&&"getUserMedia"in navigator;l.isoperamini=Object.prototype.toString.call(O.operamini)==="[object OperaMini]";l.isie="all"in I&&"attachEvent"in e&&!l.isopera;l.isieold=l.isie&&!("msInterpolationMode"in s);l.isie7=l.isie&&!l.isieold&&(!("documentMode"in I)||I.documentMode===7);l.isie8=l.isie&&"documentMode"in I&&I.documentMode===8;l.isie9=l.isie&&"performance"in O&&I.documentMode===9;l.isie10=l.isie&&"performance"in O&&I.documentMode===10;l.isie11="msRequestFullscreen"in e&&I.documentMode>=11;l.ismsedge="msCredentials"in O;l.ismozilla="MozAppearance"in s;l.iswebkit=!l.ismsedge&&"WebkitAppearance"in s;l.ischrome=l.iswebkit&&"chrome"in O;l.ischrome38=l.ischrome&&"touchAction"in s;l.ischrome22=!l.ischrome38&&(l.ischrome&&l.haspointerlock);l.ischrome26=!l.ischrome38&&(l.ischrome&&"transition"in s);l.cantouch="ontouchstart"in I.documentElement||"ontouchstart"in O;l.hasw3ctouch=(O.PointerEvent||false)&&(navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0);l.hasmstouch=!l.hasw3ctouch&&(O.MSPointerEvent||false);l.ismac=/^mac$/i.test(i);l.isios=l.cantouch&&/iphone|ipad|ipod/i.test(i);l.isios4=l.isios&&!("seal"in Object);l.isios7=l.isios&&"webkitHidden"in I;l.isios8=l.isios&&"hidden"in I;l.isios10=l.isios&&O.Proxy;l.isandroid=/android/i.test(r);l.haseventlistener="addEventListener"in e;l.trstyle=false;l.hastransform=false;l.hastranslate3d=false;l.transitionstyle=false;l.hastransition=false;l.transitionend=false;l.trstyle="transform";l.hastransform="transform"in s||function(){var e=["msTransform","webkitTransform","MozTransform","OTransform"];for(var r=0,i=e.length;r<i;r++){if(s[e[r]]!==undefined){l.trstyle=e[r];break}}l.hastransform=!!l.trstyle}();if(l.hastransform){s[l.trstyle]="translate3d(1px,2px,3px)";l.hastranslate3d=/translate3d/.test(s[l.trstyle])}l.transitionstyle="transition";l.prefixstyle="";l.transitionend="transitionend";l.hastransition="transition"in s||function(){l.transitionend=false;var e=["webkitTransition","msTransition","MozTransition","OTransition","OTransition","KhtmlTransition"];var r=["-webkit-","-ms-","-moz-","-o-","-o","-khtml-"];var i=["webkitTransitionEnd","msTransitionEnd","transitionend","otransitionend","oTransitionEnd","KhtmlTransitionEnd"];for(var t=0,o=e.length;t<o;t++){if(e[t]in s){l.transitionstyle=e[t];l.prefixstyle=r[t];l.transitionend=i[t];break}}if(l.ischrome26)l.prefixstyle=r[1];l.hastransition=l.transitionstyle}();function t(){var e=["grab","-webkit-grab","-moz-grab"];if(l.ischrome&&!l.ischrome38||l.isie)e=[];for(var r=0,i=e.length;r<i;r++){var t=e[r];s.cursor=t;if(s.cursor==t)return t}return"url(https://cdnjs.cloudflare.com/ajax/libs/slider-pro/1.3.0/css/images/openhand.cur),n-resize"}l.cursorgrabvalue=t();l.hasmousecapture="setCapture"in e;l.hasMutationObserver=D!==false;e=null;o=l;return l};var n=function(e,r){var y=this;this.version="3.7.6";this.name="nicescroll";this.me=r;var x=_("body");var S=this.opt={doc:x,win:false};_.extend(S,q);S.snapbackspeed=80;if(e||false){for(var i in S){if(e[i]!==undefined)S[i]=e[i]}}if(S.disablemutationobserver)D=false;this.doc=S.doc;this.iddoc=this.doc&&this.doc[0]?this.doc[0].id||"":"";this.ispage=/^BODY|HTML/.test(S.win?S.win[0].nodeName:this.doc[0].nodeName);this.haswrapper=S.win!==false;this.win=S.win||(this.ispage?Y:this.doc);this.docscroll=this.ispage&&!this.haswrapper?Y:this.win;this.body=x;this.viewport=false;this.isfixed=false;this.iframe=false;this.isiframe=this.doc[0].nodeName=="IFRAME"&&this.win[0].nodeName=="IFRAME";this.istextarea=this.win[0].nodeName=="TEXTAREA";this.forcescreen=false;this.canshowonmouseevent=S.autohidemode!="scroll";this.onmousedown=false;this.onmouseup=false;this.onmousemove=false;this.onmousewheel=false;this.onkeypress=false;this.ongesturezoom=false;this.onclick=false;this.onscrollstart=false;this.onscrollend=false;this.onscrollcancel=false;this.onzoomin=false;this.onzoomout=false;this.view=false;this.page=false;this.scroll={x:0,y:0};this.scrollratio={x:0,y:0};this.cursorheight=20;this.scrollvaluemax=0;if(S.rtlmode=="auto"){var t=this.win[0]==O?this.body:this.win;var o=t.css("writing-mode")||t.css("-webkit-writing-mode")||t.css("-ms-writing-mode")||t.css("-moz-writing-mode");if(o=="horizontal-tb"||o=="lr-tb"||o===""){this.isrtlmode=t.css("direction")=="rtl";this.isvertical=false}else{this.isrtlmode=o=="vertical-rl"||o=="tb"||o=="tb-rl"||o=="rl-tb";this.isvertical=o=="vertical-rl"||o=="tb"||o=="tb-rl"}}else{this.isrtlmode=S.rtlmode===true;this.isvertical=false}this.scrollrunning=false;this.scrollmom=false;this.observer=false;this.observerremover=false;this.observerbody=false;if(S.scrollbarid!==false){this.id=S.scrollbarid}else{do{this.id="ascrail"+P++}while(I.getElementById(this.id))}this.rail=false;this.cursor=false;this.cursorfreezed=false;this.selectiondrag=false;this.zoom=false;this.zoomactive=false;this.hasfocus=false;this.hasmousefocus=false;this.railslocked=false;this.locked=false;this.hidden=false;this.cursoractive=true;this.wheelprevented=false;this.overflowx=S.overflowx;this.overflowy=S.overflowy;this.nativescrollingarea=false;this.checkarea=0;this.events=[];this.saved={};this.delaylist={};this.synclist={};this.lastdeltax=0;this.lastdeltay=0;this.detected=j();var z=_.extend({},this.detected);this.canhwscroll=z.hastransform&&S.hwacceleration;this.ishwscroll=this.canhwscroll&&y.haswrapper;if(!this.isrtlmode){this.hasreversehr=false}else if(this.isvertical){this.hasreversehr=!(z.iswebkit||z.isie||z.isie11)}else{this.hasreversehr=!(z.iswebkit||z.isie&&!z.isie10&&!z.isie11)}this.istouchcapable=false;if(!z.cantouch&&(z.hasw3ctouch||z.hasmstouch)){this.istouchcapable=true}else if(z.cantouch&&!z.isios&&!z.isandroid&&(z.iswebkit||z.ismozilla)){this.istouchcapable=true}if(!S.enablemouselockapi){z.hasmousecapture=false;z.haspointerlock=false}this.debounced=function(e,r,i){if(!y)return;var t=y.delaylist[e]||false;if(!t){y.delaylist[e]={h:B(function(){y.delaylist[e].fn.call(y);y.delaylist[e]=false},i)};r.call(y)}y.delaylist[e].fn=r};this.synched=function(e,r){if(y.synclist[e])y.synclist[e]=r;else{y.synclist[e]=r;B(function(){if(!y)return;y.synclist[e]&&y.synclist[e].call(y);y.synclist[e]=null})}};this.unsynched=function(e){if(y.synclist[e])y.synclist[e]=false};this.css=function(e,r){for(var i in r){y.saved.css.push([e,i,e.css(i)]);e.css(i,r[i])}};this.scrollTop=function(e){return e===undefined?y.getScrollTop():y.setScrollTop(e)};this.scrollLeft=function(e){return e===undefined?y.getScrollLeft():y.setScrollLeft(e)};var f=function(e,r,i,t,o,s,l){this.st=e;this.ed=r;this.spd=i;this.p1=t||0;this.p2=o||1;this.p3=s||0;this.p4=l||1;this.ts=A();this.df=r-e};f.prototype={B2:function(e){return 3*(1-e)*(1-e)*e},B3:function(e){return 3*(1-e)*e*e},B4:function(e){return e*e*e},getPos:function(){return(A()-this.ts)/this.spd},getNow:function(){var e=(A()-this.ts)/this.spd;var r=this.B2(e)+this.B3(e)+this.B4(e);return e>=1?this.ed:this.st+this.df*r|0},update:function(e,r){this.st=this.getNow();this.ed=e;this.spd=r;this.ts=A();this.df=this.ed-this.st;return this}};function s(){var e=y.doc.css(z.trstyle);if(e&&e.substr(0,6)=="matrix"){return e.replace(/^.*\((.*)\)$/g,"$1").replace(/px/g,"").split(/, +/)}return false}if(this.ishwscroll){this.doc.translate={x:0,y:0,tx:"0px",ty:"0px"};if(z.hastranslate3d&&z.isios)this.doc.css("-webkit-backface-visibility","hidden");this.getScrollTop=function(e){if(!e){var r=s();if(r)return r.length==16?-r[13]:-r[5];if(y.timerscroll&&y.timerscroll.bz)return y.timerscroll.bz.getNow()}return y.doc.translate.y};this.getScrollLeft=function(e){if(!e){var r=s();if(r)return r.length==16?-r[12]:-r[4];if(y.timerscroll&&y.timerscroll.bh)return y.timerscroll.bh.getNow()}return y.doc.translate.x};this.notifyScrollEvent=function(e){var r=I.createEvent("UIEvents");r.initUIEvent("scroll",false,false,O,1);r.niceevent=true;e.dispatchEvent(r)};var l=this.isrtlmode?1:-1;if(z.hastranslate3d&&S.enabletranslate3d){this.setScrollTop=function(e,r){y.doc.translate.y=e;y.doc.translate.ty=e*-1+"px";y.doc.css(z.trstyle,"translate3d("+y.doc.translate.tx+","+y.doc.translate.ty+",0)");if(!r)y.notifyScrollEvent(y.win[0])};this.setScrollLeft=function(e,r){y.doc.translate.x=e;y.doc.translate.tx=e*l+"px";y.doc.css(z.trstyle,"translate3d("+y.doc.translate.tx+","+y.doc.translate.ty+",0)");if(!r)y.notifyScrollEvent(y.win[0])}}else{this.setScrollTop=function(e,r){y.doc.translate.y=e;y.doc.translate.ty=e*-1+"px";y.doc.css(z.trstyle,"translate("+y.doc.translate.tx+","+y.doc.translate.ty+")");if(!r)y.notifyScrollEvent(y.win[0])};this.setScrollLeft=function(e,r){y.doc.translate.x=e;y.doc.translate.tx=e*l+"px";y.doc.css(z.trstyle,"translate("+y.doc.translate.tx+","+y.doc.translate.ty+")");if(!r)y.notifyScrollEvent(y.win[0])}}}else{this.getScrollTop=function(){return y.docscroll.scrollTop()};this.setScrollTop=function(e){y.docscroll.scrollTop(e)};this.getScrollLeft=function(){var e;if(!y.hasreversehr){e=y.docscroll.scrollLeft()}else if(y.detected.ismozilla){e=y.page.maxw-Math.abs(y.docscroll.scrollLeft())}else{e=y.page.maxw-y.docscroll.scrollLeft()}return e};this.setScrollLeft=function(e){return setTimeout(function(){if(!y)return;if(y.hasreversehr){if(y.detected.ismozilla){e=-(y.page.maxw-e)}else{e=y.page.maxw-e}}return y.docscroll.scrollLeft(e)},1)}}this.getTarget=function(e){if(!e)return false;if(e.target)return e.target;if(e.srcElement)return e.srcElement;return false};this.hasParent=function(e,r){if(!e)return false;var i=e.target||e.srcElement||e||false;while(i&&i.id!=r){i=i.parentNode||false}return i!==false};function k(){var e=y.win;if("zIndex"in e)return e.zIndex();while(e.length>0){if(e[0].nodeType==9)return false;var r=e.css("zIndex");if(!isNaN(r)&&r!==0)return parseInt(r);e=e.parent()}return false}var a={thin:1,medium:3,thick:5};function n(e,r,i){var t=e.css(r);var o=parseFloat(t);if(isNaN(o)){o=a[t]||0;var s=o==3?i?y.win.outerHeight()-y.win.innerHeight():y.win.outerWidth()-y.win.innerWidth():1;if(y.isie8&&o)o+=1;return s?o:0}return o}this.getDocumentScrollOffset=function(){return{top:O.pageYOffset||I.documentElement.scrollTop,left:O.pageXOffset||I.documentElement.scrollLeft}};this.getOffset=function(){if(y.isfixed){var e=y.win.offset();var r=y.getDocumentScrollOffset();e.top-=r.top;e.left-=r.left;return e}var i=y.win.offset();if(!y.viewport)return i;var t=y.viewport.offset();return{top:i.top-t.top,left:i.left-t.left}};this.updateScrollBar=function(e){var r,i;if(y.ishwscroll){y.rail.css({height:y.win.innerHeight()-(S.railpadding.top+S.railpadding.bottom)});if(y.railh)y.railh.css({width:y.win.innerWidth()-(S.railpadding.left+S.railpadding.right)})}else{var t=y.getOffset();r={top:t.top,left:t.left-(S.railpadding.left+S.railpadding.right)};r.top+=n(y.win,"border-top-width",true);r.left+=y.rail.align?y.win.outerWidth()-n(y.win,"border-right-width")-y.rail.width:n(y.win,"border-left-width");i=S.railoffset;if(i){if(i.top)r.top+=i.top;if(i.left)r.left+=i.left}if(!y.railslocked)y.rail.css({top:r.top,left:r.left,height:(e?e.h:y.win.innerHeight())-(S.railpadding.top+S.railpadding.bottom)});if(y.zoom){y.zoom.css({top:r.top+1,left:y.rail.align==1?r.left-20:r.left+y.rail.width+4})}if(y.railh&&!y.railslocked){r={top:t.top,left:t.left};i=S.railhoffset;if(i){if(i.top)r.top+=i.top;if(i.left)r.left+=i.left}var o=y.railh.align?r.top+n(y.win,"border-top-width",true)+y.win.innerHeight()-y.railh.height:r.top+n(y.win,"border-top-width",true);var s=r.left+n(y.win,"border-left-width");y.railh.css({top:o-(S.railpadding.top+S.railpadding.bottom),left:s,width:y.railh.width})}}};this.doRailClick=function(e,r,i){var t,o,s,l;if(y.railslocked)return;y.cancelEvent(e);if(!("pageY"in e)){e.pageX=e.clientX+I.documentElement.scrollLeft;e.pageY=e.clientY+I.documentElement.scrollTop}if(r){t=i?y.doScrollLeft:y.doScrollTop;s=i?(e.pageX-y.railh.offset().left-y.cursorwidth/2)*y.scrollratio.x:(e.pageY-y.rail.offset().top-y.cursorheight/2)*y.scrollratio.y;y.unsynched("relativexy");t(s|0)}else{t=i?y.doScrollLeftBy:y.doScrollBy;s=i?y.scroll.x:y.scroll.y;l=i?e.pageX-y.railh.offset().left:e.pageY-y.rail.offset().top;o=i?y.view.w:y.view.h;t(s>=l?o:-o)}};y.newscrolly=y.newscrollx=0;y.hasanimationframe="requestAnimationFrame"in O;y.hascancelanimationframe="cancelAnimationFrame"in O;y.hasborderbox=false;this.init=function(){y.saved.css=[];if(z.isoperamini)return true;if(z.isandroid&&!("hidden"in I))return true;S.emulatetouch=S.emulatetouch||S.touchbehavior;y.hasborderbox=O.getComputedStyle&&O.getComputedStyle(I.body)["box-sizing"]==="border-box";var o={"overflow-y":"hidden"};if(z.isie11||z.isie10)o["-ms-overflow-style"]="none";if(y.ishwscroll){this.doc.css(z.transitionstyle,z.prefixstyle+"transform 0ms ease-out");if(z.transitionend)y.bind(y.doc,z.transitionend,y.onScrollTransitionEnd,false)}y.zindex="auto";if(!y.ispage&&S.zindex=="auto"){y.zindex=k()||"auto"}else{y.zindex=S.zindex}if(!y.ispage&&y.zindex!="auto"&&y.zindex>R){R=y.zindex}if(y.isie&&y.zindex===0&&S.zindex=="auto"){y.zindex="auto"}if(!y.ispage||!z.isieold){var e=y.docscroll;if(y.ispage)e=y.haswrapper?y.win:y.doc;y.css(e,o);if(y.ispage&&(z.isie11||z.isie)){y.css(_("html"),o)}if(z.isios&&!y.ispage&&!y.haswrapper)y.css(x,{"-webkit-overflow-scrolling":"touch"});var r=_(I.createElement("div"));r.css({position:"relative",top:0,"float":"right",width:S.cursorwidth,height:0,"background-color":S.cursorcolor,border:S.cursorborder,"background-clip":"padding-box","-webkit-border-radius":S.cursorborderradius,"-moz-border-radius":S.cursorborderradius,"border-radius":S.cursorborderradius});r.addClass("nicescroll-cursors");y.cursor=r;var i=_(I.createElement("div"));i.attr("id",y.id);i.addClass("nicescroll-rails nicescroll-rails-vr");if(S.scrollCLass){i.addClass(S.scrollCLass)}var t,s,l=["left","right","top","bottom"];for(var a in l){s=l[a];t=S.railpadding[s]||0;t&&i.css("padding-"+s,t+"px")}i.append(r);i.width=Math.max(parseFloat(S.cursorwidth),r.outerWidth());i.css({width:i.width+"px",zIndex:y.zindex,background:S.background,cursor:"default"});i.visibility=true;i.scrollable=true;i.align=S.railalign=="left"?0:1;y.rail=i;y.rail.drag=false;var n=false;if(S.boxzoom&&!y.ispage&&!z.isieold){n=I.createElement("div");y.bind(n,"click",y.doZoom);y.bind(n,"mouseenter",function(){y.zoom.css("opacity",S.cursoropacitymax)});y.bind(n,"mouseleave",function(){y.zoom.css("opacity",S.cursoropacitymin)});y.zoom=_(n);y.zoom.css({cursor:"pointer",zIndex:y.zindex,backgroundImage:"url("+S.scriptpath+"zoomico.png)",height:18,width:18,backgroundPosition:"0 0"});if(S.dblclickzoom)y.bind(y.win,"dblclick",y.doZoom);if(z.cantouch&&S.gesturezoom){y.ongesturezoom=function(e){if(e.scale>1.5)y.doZoomIn(e);if(e.scale<.8)y.doZoomOut(e);return y.cancelEvent(e)};y.bind(y.win,"gestureend",y.ongesturezoom)}}y.railh=false;var c;if(S.horizrailenabled){y.css(e,{overflowX:"hidden"});r=_(I.createElement("div"));r.css({position:"absolute",top:0,height:S.cursorwidth,width:0,backgroundColor:S.cursorcolor,border:S.cursorborder,backgroundClip:"padding-box","-webkit-border-radius":S.cursorborderradius,"-moz-border-radius":S.cursorborderradius,"border-radius":S.cursorborderradius});if(z.isieold)r.css("overflow","hidden");r.addClass("nicescroll-cursors");y.cursorh=r;c=_(I.createElement("div"));c.attr("id",y.id+"-hr");c.addClass("nicescroll-rails nicescroll-rails-hr");if(S.scrollCLass){c.addClass(S.scrollCLass)}c.height=Math.max(parseFloat(S.cursorwidth),r.outerHeight());c.css({height:c.height+"px",zIndex:y.zindex,background:S.background});c.append(r);c.visibility=true;c.scrollable=true;c.align=S.railvalign=="top"?0:1;y.railh=c;y.railh.drag=false}if(y.ispage){i.css({position:"fixed",top:0,height:"100%"});i.css(i.align?{right:0}:{left:0});y.body.append(i);if(y.railh){c.css({position:"fixed",left:0,width:"100%"});c.css(c.align?{bottom:0}:{top:0});y.body.append(c)}}else{if(y.ishwscroll){if(y.win.css("position")=="static")y.css(y.win,{position:"relative"});var u=y.win[0].nodeName=="HTML"?y.body:y.win;_(u).scrollTop(0).scrollLeft(0);if(y.zoom){y.zoom.css({position:"absolute",top:1,right:0,"margin-right":i.width+4});u.append(y.zoom)}i.css({position:"absolute",top:0});i.css(i.align?{right:0}:{left:0});u.append(i);if(c){c.css({position:"absolute",left:0,bottom:0});c.css(c.align?{bottom:0}:{top:0});u.append(c)}}else{y.isfixed=y.win.css("position")=="fixed";var f=y.isfixed?"fixed":"absolute";if(!y.isfixed)y.viewport=y.getViewport(y.win[0]);if(y.viewport){y.body=y.viewport;if(!/fixed|absolute/.test(y.viewport.css("position")))y.css(y.viewport,{position:"relative"})}i.css({position:f});if(y.zoom)y.zoom.css({position:f});y.updateScrollBar();y.body.append(i);if(y.zoom)y.body.append(y.zoom);if(y.railh){c.css({position:f});y.body.append(c)}}if(z.isios)y.css(y.win,{"-webkit-tap-highlight-color":"rgba(0,0,0,0)","-webkit-touch-callout":"none"});if(S.disableoutline){if(z.isie)y.win.attr("hideFocus","true");if(z.iswebkit)y.win.css("outline","none")}}if(S.autohidemode===false){y.autohidedom=false;y.rail.css({opacity:S.cursoropacitymax});if(y.railh)y.railh.css({opacity:S.cursoropacitymax})}else if(S.autohidemode===true||S.autohidemode==="leave"){y.autohidedom=_().add(y.rail);if(z.isie8)y.autohidedom=y.autohidedom.add(y.cursor);if(y.railh)y.autohidedom=y.autohidedom.add(y.railh);if(y.railh&&z.isie8)y.autohidedom=y.autohidedom.add(y.cursorh)}else if(S.autohidemode=="scroll"){y.autohidedom=_().add(y.rail);if(y.railh)y.autohidedom=y.autohidedom.add(y.railh)}else if(S.autohidemode=="cursor"){y.autohidedom=_().add(y.cursor);if(y.railh)y.autohidedom=y.autohidedom.add(y.cursorh)}else if(S.autohidemode=="hidden"){y.autohidedom=false;y.hide();y.railslocked=false}if(z.cantouch||y.istouchcapable||S.emulatetouch||z.hasmstouch){y.scrollmom=new F(y);var d=null;y.ontouchstart=function(e){if(y.locked)return false;if(e.pointerType&&(e.pointerType==="mouse"||e.pointerType===e.MSPOINTER_TYPE_MOUSE))return false;y.hasmoving=false;if(y.scrollmom.timer){y.triggerScrollEnd();y.scrollmom.stop()}if(!y.railslocked){var r=y.getTarget(e);if(r){var i=/INPUT/i.test(r.nodeName)&&/range/i.test(r.type);if(i)return y.stopPropagation(e)}var t=e.type==="mousedown";if(!("clientX"in e)&&"changedTouches"in e){e.clientX=e.changedTouches[0].clientX;e.clientY=e.changedTouches[0].clientY}if(y.forcescreen){var o=e;e={original:e.original?e.original:e};e.clientX=o.screenX;e.clientY=o.screenY}y.rail.drag={x:e.clientX,y:e.clientY,sx:y.scroll.x,sy:y.scroll.y,st:y.getScrollTop(),sl:y.getScrollLeft(),pt:2,dl:false,tg:r};if(y.ispage||!S.directionlockdeadzone){y.rail.drag.dl="f"}else{var s={w:Y.width(),h:Y.height()};var l=y.getContentSize();var a=l.h-s.h;var n=l.w-s.w;if(y.rail.scrollable&&!y.railh.scrollable)y.rail.drag.ck=a>0?"v":false;else if(!y.rail.scrollable&&y.railh.scrollable)y.rail.drag.ck=n>0?"h":false;else y.rail.drag.ck=false}if(S.emulatetouch&&y.isiframe&&z.isie){var c=y.win.position();y.rail.drag.x+=c.left;y.rail.drag.y+=c.top}y.hasmoving=false;y.lastmouseup=false;y.scrollmom.reset(e.clientX,e.clientY);if(r&&t){var u=/INPUT|SELECT|BUTTON|TEXTAREA/i.test(r.nodeName);if(!u){if(z.hasmousecapture)r.setCapture();if(S.emulatetouch){if(r.onclick&&!(r._onclick||false)){r._onclick=r.onclick;r.onclick=function(e){if(y.hasmoving)return false;r._onclick.call(this,e)}}return y.cancelEvent(e)}return y.stopPropagation(e)}if(/SUBMIT|CANCEL|BUTTON/i.test(_(r).attr("type"))){y.preventclick={tg:r,click:false}}}}};y.ontouchend=function(e){if(!y.rail.drag)return true;if(y.rail.drag.pt==2){if(e.pointerType&&(e.pointerType==="mouse"||e.pointerType===e.MSPOINTER_TYPE_MOUSE))return false;y.rail.drag=false;var r=e.type==="mouseup";if(y.hasmoving){y.scrollmom.doMomentum();y.lastmouseup=true;y.hideCursor();if(z.hasmousecapture)I.releaseCapture();if(r)return y.cancelEvent(e)}}else if(y.rail.drag.pt==1){return y.onmouseup(e)}};var p=S.emulatetouch&&y.isiframe&&!z.hasmousecapture;var m=S.directionlockdeadzone*.3|0;y.ontouchmove=function(e,r){if(!y.rail.drag)return true;if(e.targetTouches&&S.preventmultitouchscrolling){if(e.targetTouches.length>1)return true}if(e.pointerType&&(e.pointerType==="mouse"||e.pointerType===e.MSPOINTER_TYPE_MOUSE))return true;if(y.rail.drag.pt==2){if("changedTouches"in e){e.clientX=e.changedTouches[0].clientX;e.clientY=e.changedTouches[0].clientY}var i,t;t=i=0;if(p&&!r){var o=y.win.position();t=-o.left;i=-o.top}var s=e.clientY+i;var l=s-y.rail.drag.y;var a=e.clientX+t;var n=a-y.rail.drag.x;var c=y.rail.drag.st-l;if(y.ishwscroll&&S.bouncescroll){if(c<0){c=Math.round(c/2)}else if(c>y.page.maxh){c=y.page.maxh+Math.round((c-y.page.maxh)/2)}}else{if(c<0){c=0;s=0}else if(c>y.page.maxh){c=y.page.maxh;s=0}if(s===0&&!y.hasmoving){if(!y.ispage)y.rail.drag=false;return true}}var u=y.getScrollLeft();if(y.railh&&y.railh.scrollable){u=y.isrtlmode?n-y.rail.drag.sl:y.rail.drag.sl-n;if(y.ishwscroll&&S.bouncescroll){if(u<0){u=Math.round(u/2)}else if(u>y.page.maxw){u=y.page.maxw+Math.round((u-y.page.maxw)/2)}}else{if(u<0){u=0;a=0}if(u>y.page.maxw){u=y.page.maxw;a=0}}}if(!y.hasmoving){if(y.rail.drag.y===e.clientY&&y.rail.drag.x===e.clientX)return y.cancelEvent(e);var f=Math.abs(l);var d=Math.abs(n);var h=S.directionlockdeadzone;if(!y.rail.drag.ck){if(f>h&&d>h)y.rail.drag.dl="f";else if(f>h)y.rail.drag.dl=d>m?"f":"v";else if(d>h)y.rail.drag.dl=f>m?"f":"h"}else if(y.rail.drag.ck=="v"){if(d>h&&f<=m){y.rail.drag=false}else if(f>h)y.rail.drag.dl="v"}else if(y.rail.drag.ck=="h"){if(f>h&&d<=m){y.rail.drag=false}else if(d>h)y.rail.drag.dl="h"}if(!y.rail.drag.dl)return y.cancelEvent(e);y.triggerScrollStart(e.clientX,e.clientY,0,0,0);y.hasmoving=true}if(y.preventclick&&!y.preventclick.click){y.preventclick.click=y.preventclick.tg.onclick||false;y.preventclick.tg.onclick=y.onpreventclick}if(y.rail.drag.dl){if(y.rail.drag.dl=="v")u=y.rail.drag.sl;else if(y.rail.drag.dl=="h")c=y.rail.drag.st}y.synched("touchmove",function(){if(y.rail.drag&&y.rail.drag.pt==2){if(y.prepareTransition)y.resetTransition();if(y.rail.scrollable)y.setScrollTop(c);y.scrollmom.update(a,s);if(y.railh&&y.railh.scrollable){y.setScrollLeft(u);y.showCursor(c,u)}else{y.showCursor(c)}if(z.isie10)I.selection.clear()}});return y.cancelEvent(e)}else if(y.rail.drag.pt==1){return y.onmousemove(e)}};y.ontouchstartCursor=function(e,r){if(y.rail.drag&&y.rail.drag.pt!=3)return;if(y.locked)return y.cancelEvent(e);y.cancelScroll();y.rail.drag={x:e.touches[0].clientX,y:e.touches[0].clientY,sx:y.scroll.x,sy:y.scroll.y,pt:3,hr:!!r};var i=y.getTarget(e);if(!y.ispage&&z.hasmousecapture)i.setCapture();if(y.isiframe&&!z.hasmousecapture){y.saved.csspointerevents=y.doc.css("pointer-events");y.css(y.doc,{"pointer-events":"none"})}return y.cancelEvent(e)};y.ontouchendCursor=function(e){if(y.rail.drag){if(z.hasmousecapture)I.releaseCapture();if(y.isiframe&&!z.hasmousecapture)y.doc.css("pointer-events",y.saved.csspointerevents);if(y.rail.drag.pt!=3)return;y.rail.drag=false;return y.cancelEvent(e)}};y.ontouchmoveCursor=function(e){if(y.rail.drag){if(y.rail.drag.pt!=3)return;y.cursorfreezed=true;if(y.rail.drag.hr){y.scroll.x=y.rail.drag.sx+(e.touches[0].clientX-y.rail.drag.x);if(y.scroll.x<0)y.scroll.x=0;var r=y.scrollvaluemaxw;if(y.scroll.x>r)y.scroll.x=r}else{y.scroll.y=y.rail.drag.sy+(e.touches[0].clientY-y.rail.drag.y);if(y.scroll.y<0)y.scroll.y=0;var i=y.scrollvaluemax;if(y.scroll.y>i)y.scroll.y=i}y.synched("touchmove",function(){if(y.rail.drag&&y.rail.drag.pt==3){y.showCursor();if(y.rail.drag.hr)y.doScrollLeft(Math.round(y.scroll.x*y.scrollratio.x),S.cursordragspeed);else y.doScrollTop(Math.round(y.scroll.y*y.scrollratio.y),S.cursordragspeed)}});return y.cancelEvent(e)}}}y.onmousedown=function(e,r){if(y.rail.drag&&y.rail.drag.pt!=1)return;if(y.railslocked)return y.cancelEvent(e);y.cancelScroll();y.rail.drag={x:e.clientX,y:e.clientY,sx:y.scroll.x,sy:y.scroll.y,pt:1,hr:r||false};var i=y.getTarget(e);if(z.hasmousecapture)i.setCapture();if(y.isiframe&&!z.hasmousecapture){y.saved.csspointerevents=y.doc.css("pointer-events");y.css(y.doc,{"pointer-events":"none"})}y.hasmoving=false;return y.cancelEvent(e)};y.onmouseup=function(e){if(y.rail.drag){if(y.rail.drag.pt!=1)return true;if(z.hasmousecapture)I.releaseCapture();if(y.isiframe&&!z.hasmousecapture)y.doc.css("pointer-events",y.saved.csspointerevents);y.rail.drag=false;y.cursorfreezed=false;if(y.hasmoving)y.triggerScrollEnd();return y.cancelEvent(e)}};y.onmousemove=function(e){if(y.rail.drag){if(y.rail.drag.pt!==1)return;if(z.ischrome&&e.which===0)return y.onmouseup(e);y.cursorfreezed=true;if(!y.hasmoving)y.triggerScrollStart(e.clientX,e.clientY,0,0,0);y.hasmoving=true;if(y.rail.drag.hr){y.scroll.x=y.rail.drag.sx+(e.clientX-y.rail.drag.x);if(y.scroll.x<0)y.scroll.x=0;var r=y.scrollvaluemaxw;if(y.scroll.x>r)y.scroll.x=r}else{y.scroll.y=y.rail.drag.sy+(e.clientY-y.rail.drag.y);if(y.scroll.y<0)y.scroll.y=0;var i=y.scrollvaluemax;if(y.scroll.y>i)y.scroll.y=i}y.synched("mousemove",function(){if(y.cursorfreezed){y.showCursor();if(y.rail.drag.hr){y.scrollLeft(Math.round(y.scroll.x*y.scrollratio.x))}else{y.scrollTop(Math.round(y.scroll.y*y.scrollratio.y))}}});return y.cancelEvent(e)}else{y.checkarea=0}};if(z.cantouch||S.emulatetouch){y.onpreventclick=function(e){if(y.preventclick){y.preventclick.tg.onclick=y.preventclick.click;y.preventclick=false;return y.cancelEvent(e)}};y.onclick=z.isios?false:function(e){if(y.lastmouseup){y.lastmouseup=false;return y.cancelEvent(e)}else{return true}};if(S.grabcursorenabled&&z.cursorgrabvalue){y.css(y.ispage?y.doc:y.win,{cursor:z.cursorgrabvalue});y.css(y.rail,{cursor:z.cursorgrabvalue})}}else{var h=function(e){if(!y.selectiondrag)return;if(e){var r=y.win.outerHeight();var i=e.pageY-y.selectiondrag.top;if(i>0&&i<r)i=0;if(i>=r)i-=r;y.selectiondrag.df=i}if(y.selectiondrag.df===0)return;var t=-(y.selectiondrag.df*2/6)|0;y.doScrollBy(t);y.debounced("doselectionscroll",function(){h()},50)};if("getSelection"in I){y.hasTextSelected=function(){return I.getSelection().rangeCount>0}}else if("selection"in I){y.hasTextSelected=function(){return I.selection.type!="None"}}else{y.hasTextSelected=function(){return false}}y.onselectionstart=function(e){if(y.ispage)return;y.selectiondrag=y.win.offset()};y.onselectionend=function(e){y.selectiondrag=false};y.onselectiondrag=function(e){if(!y.selectiondrag)return;if(y.hasTextSelected())y.debounced("selectionscroll",function(){h(e)},250)}}if(z.hasw3ctouch){y.css(y.ispage?_("html"):y.win,{"touch-action":"none"});y.css(y.rail,{"touch-action":"none"});y.css(y.cursor,{"touch-action":"none"});y.bind(y.win,"pointerdown",y.ontouchstart);y.bind(I,"pointerup",y.ontouchend);y.delegate(I,"pointermove",y.ontouchmove)}else if(z.hasmstouch){y.css(y.ispage?_("html"):y.win,{"-ms-touch-action":"none"});y.css(y.rail,{"-ms-touch-action":"none"});y.css(y.cursor,{"-ms-touch-action":"none"});y.bind(y.win,"MSPointerDown",y.ontouchstart);y.bind(I,"MSPointerUp",y.ontouchend);y.delegate(I,"MSPointerMove",y.ontouchmove);y.bind(y.cursor,"MSGestureHold",function(e){e.preventDefault()});y.bind(y.cursor,"contextmenu",function(e){e.preventDefault()})}else if(z.cantouch){y.bind(y.win,"touchstart",y.ontouchstart,false,true);y.bind(I,"touchend",y.ontouchend,false,true);y.bind(I,"touchcancel",y.ontouchend,false,true);y.delegate(I,"touchmove",y.ontouchmove,false,true)}if(S.emulatetouch){y.bind(y.win,"mousedown",y.ontouchstart,false,true);y.bind(I,"mouseup",y.ontouchend,false,true);y.bind(I,"mousemove",y.ontouchmove,false,true)}if(S.cursordragontouch||!z.cantouch&&!S.emulatetouch){y.rail.css({cursor:"default"});y.railh&&y.railh.css({cursor:"default"});y.jqbind(y.rail,"mouseenter",function(){if(!y.ispage&&!y.win.is(":visible"))return false;if(y.canshowonmouseevent)y.showCursor();y.rail.active=true});y.jqbind(y.rail,"mouseleave",function(){y.rail.active=false;if(!y.rail.drag)y.hideCursor()});if(S.sensitiverail){y.bind(y.rail,"click",function(e){y.doRailClick(e,false,false)});y.bind(y.rail,"dblclick",function(e){y.doRailClick(e,true,false)});y.bind(y.cursor,"click",function(e){y.cancelEvent(e)});y.bind(y.cursor,"dblclick",function(e){y.cancelEvent(e)})}if(y.railh){y.jqbind(y.railh,"mouseenter",function(){if(!y.ispage&&!y.win.is(":visible"))return false;if(y.canshowonmouseevent)y.showCursor();y.rail.active=true});y.jqbind(y.railh,"mouseleave",function(){y.rail.active=false;if(!y.rail.drag)y.hideCursor()});if(S.sensitiverail){y.bind(y.railh,"click",function(e){y.doRailClick(e,false,true)});y.bind(y.railh,"dblclick",function(e){y.doRailClick(e,true,true)});y.bind(y.cursorh,"click",function(e){y.cancelEvent(e)});y.bind(y.cursorh,"dblclick",function(e){y.cancelEvent(e)})}}}if(S.cursordragontouch&&(this.istouchcapable||z.cantouch)){y.bind(y.cursor,"touchstart",y.ontouchstartCursor);y.bind(y.cursor,"touchmove",y.ontouchmoveCursor);y.bind(y.cursor,"touchend",y.ontouchendCursor);y.cursorh&&y.bind(y.cursorh,"touchstart",function(e){y.ontouchstartCursor(e,true)});y.cursorh&&y.bind(y.cursorh,"touchmove",y.ontouchmoveCursor);y.cursorh&&y.bind(y.cursorh,"touchend",y.ontouchendCursor)}if(!S.emulatetouch&&!z.isandroid&&!z.isios){y.bind(z.hasmousecapture?y.win:I,"mouseup",y.onmouseup);y.bind(I,"mousemove",y.onmousemove);if(y.onclick)y.bind(I,"click",y.onclick);y.bind(y.cursor,"mousedown",y.onmousedown);y.bind(y.cursor,"mouseup",y.onmouseup);if(y.railh){y.bind(y.cursorh,"mousedown",function(e){y.onmousedown(e,true)});y.bind(y.cursorh,"mouseup",y.onmouseup)}if(!y.ispage&&S.enablescrollonselection){y.bind(y.win[0],"mousedown",y.onselectionstart);y.bind(I,"mouseup",y.onselectionend);y.bind(y.cursor,"mouseup",y.onselectionend);if(y.cursorh)y.bind(y.cursorh,"mouseup",y.onselectionend);y.bind(I,"mousemove",y.onselectiondrag)}if(y.zoom){y.jqbind(y.zoom,"mouseenter",function(){if(y.canshowonmouseevent)y.showCursor();y.rail.active=true});y.jqbind(y.zoom,"mouseleave",function(){y.rail.active=false;if(!y.rail.drag)y.hideCursor()})}}else{y.bind(z.hasmousecapture?y.win:I,"mouseup",y.ontouchend);if(y.onclick)y.bind(I,"click",y.onclick);if(S.cursordragontouch){y.bind(y.cursor,"mousedown",y.onmousedown);y.bind(y.cursor,"mouseup",y.onmouseup);y.cursorh&&y.bind(y.cursorh,"mousedown",function(e){y.onmousedown(e,true)});y.cursorh&&y.bind(y.cursorh,"mouseup",y.onmouseup)}else{y.bind(y.rail,"mousedown",function(e){e.preventDefault()});y.railh&&y.bind(y.railh,"mousedown",function(e){e.preventDefault()})}}if(S.enablemousewheel){if(!y.isiframe)y.mousewheel(z.isie&&y.ispage?I:y.win,y.onmousewheel);y.mousewheel(y.rail,y.onmousewheel);if(y.railh)y.mousewheel(y.railh,y.onmousewheelhr)}if(!y.ispage&&!z.cantouch&&!/HTML|^BODY/.test(y.win[0].nodeName)){if(!y.win.attr("tabindex"))y.win.attr({tabindex:++N});y.bind(y.win,"focus",function(e){M=y.getTarget(e).id||y.getTarget(e)||false;y.hasfocus=true;if(y.canshowonmouseevent)y.noticeCursor()});y.bind(y.win,"blur",function(e){M=false;y.hasfocus=false});y.bind(y.win,"mouseenter",function(e){C=y.getTarget(e).id||y.getTarget(e)||false;y.hasmousefocus=true;if(y.canshowonmouseevent)y.noticeCursor()});y.bind(y.win,"mouseleave",function(e){C=false;y.hasmousefocus=false;if(!y.rail.drag)y.hideCursor()})}y.onkeypress=function(e){if(y.railslocked&&y.page.maxh===0)return true;e=e||O.event;var r=y.getTarget(e);if(r&&/INPUT|TEXTAREA|SELECT|OPTION/.test(r.nodeName)){var i=r.getAttribute("type")||r.type||false;if(!i||!/submit|button|cancel/i.tp)return true}if(_(r).attr("contenteditable"))return true;if(y.hasfocus||y.hasmousefocus&&!M||y.ispage&&!M&&!C){var t=e.keyCode;if(y.railslocked&&t!=27)return y.cancelEvent(e);var o=e.ctrlKey||false;var s=e.shiftKey||false;var l=false;switch(t){case 38:case 63233:y.doScrollBy(24*3);l=true;break;case 40:case 63235:y.doScrollBy(-24*3);l=true;break;case 37:case 63232:if(y.railh){o?y.doScrollLeft(0):y.doScrollLeftBy(24*3);l=true}break;case 39:case 63234:if(y.railh){o?y.doScrollLeft(y.page.maxw):y.doScrollLeftBy(-24*3);l=true}break;case 33:case 63276:y.doScrollBy(y.view.h);l=true;break;case 34:case 63277:y.doScrollBy(-y.view.h);l=true;break;case 36:case 63273:y.railh&&o?y.doScrollPos(0,0):y.doScrollTo(0);l=true;break;case 35:case 63275:y.railh&&o?y.doScrollPos(y.page.maxw,y.page.maxh):y.doScrollTo(y.page.maxh);l=true;break;case 32:if(S.spacebarenabled){s?y.doScrollBy(y.view.h):y.doScrollBy(-y.view.h);l=true}break;case 27:if(y.zoomactive){y.doZoom();l=true}break}if(l)return y.cancelEvent(e)}};if(S.enablekeyboard)y.bind(I,z.isopera&&!z.isopera12?"keypress":"keydown",y.onkeypress);y.bind(I,"keydown",function(e){var r=e.ctrlKey||false;if(r)y.wheelprevented=true});y.bind(I,"keyup",function(e){var r=e.ctrlKey||false;if(!r)y.wheelprevented=false});y.bind(O,"blur",function(e){y.wheelprevented=false});y.bind(O,"resize",y.onscreenresize);y.bind(O,"orientationchange",y.onscreenresize);y.bind(O,"load",y.lazyResize);if(z.ischrome&&!y.ispage&&!y.haswrapper){var g=y.win.attr("style");var v=parseFloat(y.win.css("width"))+1;y.win.css("width",v);y.synched("chromefix",function(){y.win.attr("style",g)})}y.onAttributeChange=function(e){y.lazyResize(y.isieold?250:30)};if(S.enableobserver){if(!y.isie11&&D!==false){y.observerbody=new D(function(e){e.forEach(function(e){if(e.type=="attributes"){return x.hasClass("modal-open")&&x.hasClass("modal-dialog")&&!_.contains(_(".modal-dialog")[0],y.doc[0])?y.hide():y.show()}});if(y.me.clientWidth!=y.page.width||y.me.clientHeight!=y.page.height)return y.lazyResize(30)});y.observerbody.observe(I.body,{childList:true,subtree:true,characterData:false,attributes:true,attributeFilter:["class"]})}if(!y.ispage&&!y.haswrapper){var w=y.win[0];if(D!==false){y.observer=new D(function(e){e.forEach(y.onAttributeChange)});y.observer.observe(w,{childList:true,characterData:false,attributes:true,subtree:false});y.observerremover=new D(function(e){e.forEach(function(e){if(e.removedNodes.length>0){for(var r in e.removedNodes){if(!!y&&e.removedNodes[r]===w)return y.remove()}}})});y.observerremover.observe(w.parentNode,{childList:true,characterData:false,attributes:false,subtree:false})}else{y.bind(w,z.isie&&!z.isie9?"propertychange":"DOMAttrModified",y.onAttributeChange);if(z.isie9)w.attachEvent("onpropertychange",y.onAttributeChange);y.bind(w,"DOMNodeRemoved",function(e){if(e.target===w)y.remove()})}}}if(!y.ispage&&S.boxzoom)y.bind(O,"resize",y.resizeZoom);if(y.istextarea){y.bind(y.win,"keydown",y.lazyResize);y.bind(y.win,"mouseup",y.lazyResize)}y.lazyResize(30)}if(this.doc[0].nodeName=="IFRAME"){var b=function(){y.iframexd=false;var e;try{e="contentDocument"in this?this.contentDocument:this.contentWindow._doc;var r=e.domain}catch(t){y.iframexd=true;e=false}if(y.iframexd){if("console"in O)console.log("NiceScroll error: policy restriced iframe");return true}y.forcescreen=true;if(y.isiframe){y.iframe={doc:_(e),html:y.doc.contents().find("html")[0],body:y.doc.contents().find("body")[0]};y.getContentSize=function(){return{w:Math.max(y.iframe.html.scrollWidth,y.iframe.body.scrollWidth),h:Math.max(y.iframe.html.scrollHeight,y.iframe.body.scrollHeight)}};y.docscroll=_(y.iframe.body)}if(!z.isios&&S.iframeautoresize&&!y.isiframe){y.win.scrollTop(0);y.doc.height("");var i=Math.max(e.getElementsByTagName("html")[0].scrollHeight,e.body.scrollHeight);y.doc.height(i)}y.lazyResize(30);y.css(_(y.iframe.body),o);if(z.isios&&y.haswrapper){y.css(_(e.body),{"-webkit-transform":"translate3d(0,0,0)"})}if("contentWindow"in this){y.bind(this.contentWindow,"scroll",y.onscroll)}else{y.bind(e,"scroll",y.onscroll)}if(S.enablemousewheel){y.mousewheel(e,y.onmousewheel)}if(S.enablekeyboard)y.bind(e,z.isopera?"keypress":"keydown",y.onkeypress);if(z.cantouch){y.bind(e,"touchstart",y.ontouchstart);y.bind(e,"touchmove",y.ontouchmove)}else if(S.emulatetouch){y.bind(e,"mousedown",y.ontouchstart);y.bind(e,"mousemove",function(e){return y.ontouchmove(e,true)});if(S.grabcursorenabled&&z.cursorgrabvalue)y.css(_(e.body),{cursor:z.cursorgrabvalue})}y.bind(e,"mouseup",y.ontouchend);if(y.zoom){if(S.dblclickzoom)y.bind(e,"dblclick",y.doZoom);if(y.ongesturezoom)y.bind(e,"gestureend",y.ongesturezoom)}};if(this.doc[0].readyState&&this.doc[0].readyState==="complete"){setTimeout(function(){b.call(y.doc[0],false)},500)}y.bind(this.doc,"load",b)}};this.showCursor=function(e,r){if(y.cursortimeout){clearTimeout(y.cursortimeout);y.cursortimeout=0}if(!y.rail)return;if(y.autohidedom){y.autohidedom.stop().css({opacity:S.cursoropacitymax});y.cursoractive=true}if(!y.rail.drag||y.rail.drag.pt!=1){if(e!==undefined&&e!==false){y.scroll.y=e/y.scrollratio.y|0}if(r!==undefined){y.scroll.x=r/y.scrollratio.x|0}}y.cursor.css({height:y.cursorheight,top:y.scroll.y});if(y.cursorh){var i=y.hasreversehr?y.scrollvaluemaxw-y.scroll.x:y.scroll.x;y.cursorh.css({width:y.cursorwidth,left:!y.rail.align&&y.rail.visibility?i+y.rail.width:i});y.cursoractive=true}if(y.zoom)y.zoom.stop().css({opacity:S.cursoropacitymax})};this.hideCursor=function(e){if(y.cursortimeout)return;if(!y.rail)return;if(!y.autohidedom)return;if(y.hasmousefocus&&S.autohidemode==="leave")return;y.cursortimeout=setTimeout(function(){if(!y.rail.active||!y.showonmouseevent){y.autohidedom.stop().animate({opacity:S.cursoropacitymin});if(y.zoom)y.zoom.stop().animate({opacity:S.cursoropacitymin});y.cursoractive=false}y.cursortimeout=0},e||S.hidecursordelay)};this.noticeCursor=function(e,r,i){y.showCursor(r,i);if(!y.rail.active)y.hideCursor(e)};this.getContentSize=y.ispage?function(){return{w:Math.max(I.body.scrollWidth,I.documentElement.scrollWidth),h:Math.max(I.body.scrollHeight,I.documentElement.scrollHeight)}}:y.haswrapper?function(){return{w:y.doc[0].offsetWidth,h:y.doc[0].offsetHeight}}:function(){return{w:y.docscroll[0].scrollWidth,h:y.docscroll[0].scrollHeight}};this.onResize=function(e,r){if(!y||!y.win)return false;var i=y.page.maxh,t=y.page.maxw,o=y.view.h,s=y.view.w;y.view={w:y.ispage?y.win.width():y.win[0].clientWidth,h:y.ispage?y.win.height():y.win[0].clientHeight};y.page=r?r:y.getContentSize();y.page.maxh=Math.max(0,y.page.h-y.view.h);y.page.maxw=Math.max(0,y.page.w-y.view.w);if(y.page.maxh==i&&y.page.maxw==t&&y.view.w==s&&y.view.h==o){if(!y.ispage){var l=y.win.offset();if(y.lastposition){var a=y.lastposition;if(a.top==l.top&&a.left==l.left)return y}y.lastposition=l}else{return y}}if(y.page.maxh===0){y.hideRail();y.scrollvaluemax=0;y.scroll.y=0;y.scrollratio.y=0;y.cursorheight=0;y.setScrollTop(0);if(y.rail)y.rail.scrollable=false}else{y.page.maxh-=S.railpadding.top+S.railpadding.bottom;y.rail.scrollable=true}if(y.page.maxw===0){y.hideRailHr();y.scrollvaluemaxw=0;y.scroll.x=0;y.scrollratio.x=0;y.cursorwidth=0;y.setScrollLeft(0);if(y.railh){y.railh.scrollable=false}}else{y.page.maxw-=S.railpadding.left+S.railpadding.right;if(y.railh)y.railh.scrollable=S.horizrailenabled}y.railslocked=y.locked||y.page.maxh===0&&y.page.maxw===0;if(y.railslocked){if(!y.ispage)y.updateScrollBar(y.view);return false}if(!y.hidden){if(!y.rail.visibility)y.showRail();if(y.railh&&!y.railh.visibility)y.showRailHr()}if(y.istextarea&&y.win.css("resize")&&y.win.css("resize")!="none")y.view.h-=20;y.cursorheight=Math.min(y.view.h,Math.round(y.view.h*(y.view.h/y.page.h)));y.cursorheight=S.cursorfixedheight?S.cursorfixedheight:Math.max(S.cursorminheight,y.cursorheight);y.cursorwidth=Math.min(y.view.w,Math.round(y.view.w*(y.view.w/y.page.w)));y.cursorwidth=S.cursorfixedheight?S.cursorfixedheight:Math.max(S.cursorminheight,y.cursorwidth);y.scrollvaluemax=y.view.h-y.cursorheight-(S.railpadding.top+S.railpadding.bottom);if(!y.hasborderbox)y.scrollvaluemax-=y.cursor[0].offsetHeight-y.cursor[0].clientHeight;if(y.railh){y.railh.width=y.page.maxh>0?y.view.w-y.rail.width:y.view.w;y.scrollvaluemaxw=y.railh.width-y.cursorwidth-(S.railpadding.left+S.railpadding.right)}if(!y.ispage)y.updateScrollBar(y.view);y.scrollratio={x:y.page.maxw/y.scrollvaluemaxw,y:y.page.maxh/y.scrollvaluemax};var n=y.getScrollTop();if(n>y.page.maxh){y.doScrollTop(y.page.maxh)}else{y.scroll.y=y.getScrollTop()/y.scrollratio.y|0;y.scroll.x=y.getScrollLeft()/y.scrollratio.x|0;if(y.cursoractive)y.noticeCursor()}if(y.scroll.y&&y.getScrollTop()===0)y.doScrollTo(y.scroll.y*y.scrollratio.y|0);return y};this.resize=y.onResize;var c=0;this.onscreenresize=function(e){clearTimeout(c);var r=!y.ispage&&!y.haswrapper;if(r)y.hideRails();c=setTimeout(function(){if(y){if(r)y.showRails();y.resize()}c=0},120)};this.lazyResize=function(e){clearTimeout(c);e=isNaN(e)?240:e;c=setTimeout(function(){y&&y.resize();c=0},e);return y};function u(i,t,o,e){y._bind(i,t,function(e){e=e||O.event;var r={original:e,target:e.target||e.srcElement,type:"wheel",deltaMode:e.type=="MozMousePixelScroll"?0:1,deltaX:0,deltaZ:0,preventDefault:function(){e.preventDefault?e.preventDefault():e.returnValue=false;return false},stopImmediatePropagation:function(){e.stopImmediatePropagation?e.stopImmediatePropagation():e.cancelBubble=true}};if(t=="mousewheel"){e.wheelDeltaX&&(r.deltaX=-1/40*e.wheelDeltaX);e.wheelDeltaY&&(r.deltaY=-1/40*e.wheelDeltaY);!r.deltaY&&!r.deltaX&&(r.deltaY=-1/40*e.wheelDelta)}else{r.deltaY=e.detail}return o.call(i,r)},e)}this.jqbind=function(e,r,i){y.events.push({e:e,n:r,f:i,q:true});_(e).on(r,i)};this.mousewheel=function(e,r,i){var t="jquery"in e?e[0]:e;if("onwheel"in I.createElement("div")){y._bind(t,"wheel",r,i||false)}else{var o=I.onmousewheel!==undefined?"mousewheel":"DOMMouseScroll";u(t,o,r,i||false);if(o=="DOMMouseScroll")u(t,"MozMousePixelScroll",r,i||false)}};var d=false;if(z.haseventlistener){try{var h=Object.defineProperty({},"passive",{get:function(){d=!0}});O.addEventListener("test",null,h)}catch(L){}this.stopPropagation=function(e){if(!e)return false;e=e.original?e.original:e;e.stopPropagation();return false};this.cancelEvent=function(e){if(e.cancelable)e.preventDefault();e.stopImmediatePropagation();if(e.preventManipulation)e.preventManipulation();return false}}else{Event.prototype.preventDefault=function(){this.returnValue=false};Event.prototype.stopPropagation=function(){this.cancelBubble=true};O.constructor.prototype.addEventListener=I.constructor.prototype.addEventListener=Element.prototype.addEventListener=function(e,r,i){this.attachEvent("on"+e,r)};O.constructor.prototype.removeEventListener=I.constructor.prototype.removeEventListener=Element.prototype.removeEventListener=function(e,r,i){this.detachEvent("on"+e,r)};this.cancelEvent=function(e){e=e||O.event;if(e){e.cancelBubble=true;e.cancel=true;e.returnValue=false}return false};this.stopPropagation=function(e){e=e||O.event;if(e)e.cancelBubble=true;return false}}this.delegate=function(e,r,i,t,o){var s=H[r]||false;if(!s){s={a:[],l:[],f:function(e){var r=s.l,i=r.length-1;var t=false;for(var o=i;o>=0;o--){t=r[o].call(e.target,e);if(t===false)return false}return t}};y.bind(e,r,s.f,t,o);H[r]=s}if(y.ispage){s.a=[y.id].concat(s.a);s.l=[i].concat(s.l)}else{s.a.push(y.id);s.l.push(i)}};this.undelegate=function(e,r,i,t,o){var s=H[r]||false;if(s&&s.l){for(var l=0,a=s.l.length;l<a;l++){if(s.a[l]===y.id){s.a.splice(l);s.l.splice(l);if(s.a.length===0){y._unbind(e,r,s.l.f);H[r]=null}}}}};this.bind=function(e,r,i,t,o){var s="jquery"in e?e[0]:e;y._bind(s,r,i,t||false,o||false)};this._bind=function(e,r,i,t,o){y.events.push({e:e,n:r,f:i,b:t,q:false});d&&(o||e==window.document||e==window.document.body||e==window)?e.addEventListener(r,i,{passive:false,capture:t}):e.addEventListener(r,i,t||false)};this._unbind=function(e,r,i,t){if(H[r])y.undelegate(e,r,i,t);else e.removeEventListener(r,i,t)};this.unbindAll=function(){for(var e=0;e<y.events.length;e++){var r=y.events[e];r.q?r.e.unbind(r.n,r.f):y._unbind(r.e,r.n,r.f,r.b)}};this.showRails=function(){return y.showRail().showRailHr()};this.showRail=function(){if(y.page.maxh!==0&&(y.ispage||y.win.css("display")!="none")){y.rail.visibility=true;y.rail.css("display","block")}return y};this.showRailHr=function(){if(y.railh){if(y.page.maxw!==0&&(y.ispage||y.win.css("display")!="none")){y.railh.visibility=true;y.railh.css("display","block")}}return y};this.hideRails=function(){return y.hideRail().hideRailHr()};this.hideRail=function(){y.rail.visibility=false;y.rail.css("display","none");return y};this.hideRailHr=function(){if(y.railh){y.railh.visibility=false;y.railh.css("display","none")}return y};this.show=function(){y.hidden=false;y.railslocked=false;return y.showRails()};this.hide=function(){y.hidden=true;y.railslocked=true;return y.hideRails()};this.toggle=function(){return y.hidden?y.show():y.hide()};this.remove=function(){y.stop();if(y.cursortimeout)clearTimeout(y.cursortimeout);for(var e in y.delaylist)if(y.delaylist[e])X(y.delaylist[e].h);y.doZoomOut();y.unbindAll();if(z.isie9)y.win[0].detachEvent("onpropertychange",y.onAttributeChange);if(y.observer!==false)y.observer.disconnect();if(y.observerremover!==false)y.observerremover.disconnect();if(y.observerbody!==false)y.observerbody.disconnect();y.events=null;if(y.cursor){y.cursor.remove()}if(y.cursorh){y.cursorh.remove()}if(y.rail){y.rail.remove()}if(y.railh){y.railh.remove()}if(y.zoom){y.zoom.remove()}for(var r=0;r<y.saved.css.length;r++){var i=y.saved.css[r];i[0].css(i[1],i[2]===undefined?"":i[2])}y.saved=false;y.me.data("__nicescroll","");var t=_.nicescroll;t.each(function(e){if(!this)return;if(this.id===y.id){delete t[e];for(var r=++e;r<t.length;r++,e++)t[e]=t[r];t.length--;if(t.length)delete t[t.length]}});for(var o in y){y[o]=null;delete y[o]}y=null};this.scrollstart=function(e){this.onscrollstart=e;return y};this.scrollend=function(e){this.onscrollend=e;return y};this.scrollcancel=function(e){this.onscrollcancel=e;return y};this.zoomin=function(e){this.onzoomin=e;return y};this.zoomout=function(e){this.onzoomout=e;return y};this.isScrollable=function(e){var r=e.target?e.target:e;if(r.nodeName=="OPTION")return true;while(r&&r.nodeType==1&&r!==this.me[0]&&!/^BODY|HTML/.test(r.nodeName)){var i=_(r);var t=i.css("overflowY")||i.css("overflowX")||i.css("overflow")||"";if(/scroll|auto/.test(t))return r.clientHeight!=r.scrollHeight;r=r.parentNode?r.parentNode:false}return false};this.getViewport=function(e){var r=e&&e.parentNode?e.parentNode:false;while(r&&r.nodeType==1&&!/^BODY|HTML/.test(r.nodeName)){var i=_(r);if(/fixed|absolute/.test(i.css("position")))return i;var t=i.css("overflowY")||i.css("overflowX")||i.css("overflow")||"";if(/scroll|auto/.test(t)&&r.clientHeight!=r.scrollHeight)return i;if(i.getNiceScroll().length>0)return i;r=r.parentNode?r.parentNode:false}return false};this.triggerScrollStart=function(e,r,i,t,o){if(y.onscrollstart){var s={type:"scrollstart",current:{x:e,y:r},request:{x:i,y:t},end:{x:y.newscrollx,y:y.newscrolly},speed:o};y.onscrollstart.call(y,s)}};this.triggerScrollEnd=function(){if(y.onscrollend){var e=y.getScrollLeft();var r=y.getScrollTop();var i={type:"scrollend",current:{x:e,y:r},end:{x:e,y:r}};y.onscrollend.call(y,i)}};var p=0,m=0,g=0,v=1;function w(e,r,i,t){if(!y.scrollrunning){y.newscrolly=y.getScrollTop();y.newscrollx=y.getScrollLeft();g=A()}var o=A()-g;g=A();if(o>350){v=1}else{v+=(2-v)/10}e=e*v|0;r=r*v|0;if(e){if(t){if(e<0){if(y.getScrollLeft()>=y.page.maxw)return true}else{if(y.getScrollLeft()<=0)return true}}var s=e>0?1:-1;if(m!==s){if(y.scrollmom)y.scrollmom.stop();y.newscrollx=y.getScrollLeft();m=s}y.lastdeltax-=e}if(r){var l=function(){var e=y.getScrollTop();if(r<0){if(e>=y.page.maxh)return true}else{if(e<=0)return true}}();if(l){if(S.nativeparentscrolling&&i&&!y.ispage&&!y.zoomactive)return true;var a=y.view.h>>1;if(y.newscrolly<-a){y.newscrolly=-a;r=-1}else if(y.newscrolly>y.page.maxh+a){y.newscrolly=y.page.maxh+a;r=1}else r=0}var n=r>0?1:-1;if(p!==n){if(y.scrollmom)y.scrollmom.stop();y.newscrolly=y.getScrollTop();p=n}y.lastdeltay-=r}if(r||e){y.synched("relativexy",function(){var e=y.lastdeltay+y.newscrolly;y.lastdeltay=0;var r=y.lastdeltax+y.newscrollx;y.lastdeltax=0;if(!y.rail.drag)y.doScrollPos(r,e)})}}var b=false;function T(e,r,i){var t,o;if(!i&&b)return true;if(e.deltaMode===0){t=-(e.deltaX*(S.mousescrollstep/(18*3)))|0;o=-(e.deltaY*(S.mousescrollstep/(18*3)))|0}else if(e.deltaMode===1){t=-(e.deltaX*S.mousescrollstep*50/80)|0;o=-(e.deltaY*S.mousescrollstep*50/80)|0}if(r&&S.oneaxismousemode&&t===0&&o){t=o;o=0;if(i){var s=t<0?y.getScrollLeft()>=y.page.maxw:y.getScrollLeft()<=0;if(s){o=t;t=0}}}if(y.isrtlmode)t=-t;var l=w(t,o,i,true);if(l){if(i)b=true}else{b=false;e.stopImmediatePropagation();return e.preventDefault()}}this.onmousewheel=function(e){if(y.wheelprevented||y.locked)return false;if(y.railslocked){y.debounced("checkunlock",y.resize,250);return false}if(y.rail.drag)return y.cancelEvent(e);if(S.oneaxismousemode==="auto"&&e.deltaX!==0)S.oneaxismousemode=false;if(S.oneaxismousemode&&e.deltaX===0){if(!y.rail.scrollable){if(y.railh&&y.railh.scrollable){return y.onmousewheelhr(e)}else{return true}}}var r=A();var i=false;if(S.preservenativescrolling&&y.checkarea+600<r){y.nativescrollingarea=y.isScrollable(e);i=true}y.checkarea=r;if(y.nativescrollingarea)return true;var t=T(e,false,i);if(t)y.checkarea=0;return t};this.onmousewheelhr=function(e){if(y.wheelprevented)return;if(y.railslocked||!y.railh.scrollable)return true;if(y.rail.drag)return y.cancelEvent(e);var r=A();var i=false;if(S.preservenativescrolling&&y.checkarea+600<r){y.nativescrollingarea=y.isScrollable(e);i=true}y.checkarea=r;if(y.nativescrollingarea)return true;if(y.railslocked)return y.cancelEvent(e);return T(e,true,i)};this.stop=function(){y.cancelScroll();if(y.scrollmon)y.scrollmon.stop();y.cursorfreezed=false;y.scroll.y=Math.round(y.getScrollTop()*(1/y.scrollratio.y));y.noticeCursor();return y};this.getTransitionSpeed=function(e){return 80+e/72*S.scrollspeed|0};if(!S.smoothscroll){this.doScrollLeft=function(e,r){var i=y.getScrollTop();y.doScrollPos(e,i,r)};this.doScrollTop=function(e,r){var i=y.getScrollLeft();y.doScrollPos(i,e,r)};this.doScrollPos=function(e,r,i){var t=e>y.page.maxw?y.page.maxw:e;if(t<0)t=0;var o=r>y.page.maxh?y.page.maxh:r;if(o<0)o=0;y.synched("scroll",function(){y.setScrollTop(o);y.setScrollLeft(t)})};this.cancelScroll=function(){}}else if(y.ishwscroll&&z.hastransition&&S.usetransition&&!!S.smoothscroll){var E="";this.resetTransition=function(){E="";y.doc.css(z.prefixstyle+"transition-duration","0ms")};this.prepareTransition=function(e,r){var i=r?e:y.getTransitionSpeed(e);var t=i+"ms";if(E!==t){E=t;y.doc.css(z.prefixstyle+"transition-duration",t)}return i};this.doScrollLeft=function(e,r){var i=y.scrollrunning?y.newscrolly:y.getScrollTop();y.doScrollPos(e,i,r)};this.doScrollTop=function(e,r){var i=y.scrollrunning?y.newscrollx:y.getScrollLeft();y.doScrollPos(i,e,r)};this.cursorupdate={running:false,start:function(){var e=this;if(e.running)return;e.running=true;var r=function(){if(e.running)B(r);y.showCursor(y.getScrollTop(),y.getScrollLeft());y.notifyScrollEvent(y.win[0])};B(r)},stop:function(){this.running=false}};this.doScrollPos=function(e,r,i){var t=y.getScrollTop();var o=y.getScrollLeft();if((y.newscrolly-t)*(r-t)<0||(y.newscrollx-o)*(e-o)<0)y.cancelScroll();if(!S.bouncescroll){if(r<0)r=0;else if(r>y.page.maxh)r=y.page.maxh;if(e<0)e=0;else if(e>y.page.maxw)e=y.page.maxw}else{if(r<0)r=r/2|0;else if(r>y.page.maxh)r=y.page.maxh+(r-y.page.maxh)/2|0;if(e<0)e=e/2|0;else if(e>y.page.maxw)e=y.page.maxw+(e-y.page.maxw)/2|0}if(y.scrollrunning&&e==y.newscrollx&&r==y.newscrolly)return false;y.newscrolly=r;y.newscrollx=e;var s=y.getScrollTop();var l=y.getScrollLeft();var a={};a.x=e-l;a.y=r-s;var n=Math.sqrt(a.x*a.x+a.y*a.y)|0;var c=y.prepareTransition(n);if(!y.scrollrunning){y.scrollrunning=true;y.triggerScrollStart(l,s,e,r,c);y.cursorupdate.start()}y.scrollendtrapped=true;if(!z.transitionend){if(y.scrollendtrapped)clearTimeout(y.scrollendtrapped);y.scrollendtrapped=setTimeout(y.onScrollTransitionEnd,c)}y.setScrollTop(y.newscrolly);y.setScrollLeft(y.newscrollx)};this.cancelScroll=function(){if(!y.scrollendtrapped)return true;var e=y.getScrollTop();var r=y.getScrollLeft();y.scrollrunning=false;if(!z.transitionend)clearTimeout(z.transitionend);y.scrollendtrapped=false;y.resetTransition();y.setScrollTop(e);if(y.railh)y.setScrollLeft(r);if(y.timerscroll&&y.timerscroll.tm)clearInterval(y.timerscroll.tm);y.timerscroll=false;y.cursorfreezed=false;y.cursorupdate.stop();y.showCursor(e,r);return y};this.onScrollTransitionEnd=function(){if(!y.scrollendtrapped)return;var e=y.getScrollTop();var r=y.getScrollLeft();if(e<0)e=0;else if(e>y.page.maxh)e=y.page.maxh;if(r<0)r=0;else if(r>y.page.maxw)r=y.page.maxw;if(e!=y.newscrolly||r!=y.newscrollx)return y.doScrollPos(r,e,S.snapbackspeed);if(y.scrollrunning)y.triggerScrollEnd();y.scrollrunning=false;y.scrollendtrapped=false;y.resetTransition();y.timerscroll=false;y.setScrollTop(e);if(y.railh)y.setScrollLeft(r);y.cursorupdate.stop();y.noticeCursor(false,e,r);y.cursorfreezed=false}}else{this.doScrollLeft=function(e,r){var i=y.scrollrunning?y.newscrolly:y.getScrollTop();y.doScrollPos(e,i,r)};this.doScrollTop=function(e,r){var i=y.scrollrunning?y.newscrollx:y.getScrollLeft();y.doScrollPos(i,e,r)};this.doScrollPos=function(e,r,i){var t=y.getScrollTop();var o=y.getScrollLeft();if((y.newscrolly-t)*(r-t)<0||(y.newscrollx-o)*(e-o)<0)y.cancelScroll();var s=false;if(!y.bouncescroll||!y.rail.visibility){if(r<0){r=0;s=true}else if(r>y.page.maxh){r=y.page.maxh;s=true}}if(!y.bouncescroll||!y.railh.visibility){if(e<0){e=0;s=true}else if(e>y.page.maxw){e=y.page.maxw;s=true}}if(y.scrollrunning&&y.newscrolly===r&&y.newscrollx===e)return true;y.newscrolly=r;y.newscrollx=e;y.dst={};y.dst.x=e-o;y.dst.y=r-t;y.dst.px=o;y.dst.py=t;var l=Math.sqrt(y.dst.x*y.dst.x+y.dst.y*y.dst.y)|0;var a=y.getTransitionSpeed(l);y.bzscroll={};var n=s?1:.58;y.bzscroll.x=new f(o,y.newscrollx,a,0,0,n,1);y.bzscroll.y=new f(t,y.newscrolly,a,0,0,n,1);var c=A();var u=function(){if(!y.scrollrunning)return;var e=y.bzscroll.y.getPos();y.setScrollLeft(y.bzscroll.x.getNow());y.setScrollTop(y.bzscroll.y.getNow());if(e<=1){y.timer=B(u)}else{y.scrollrunning=false;y.timer=0;y.triggerScrollEnd()}};if(!y.scrollrunning){y.triggerScrollStart(o,t,e,r,a);y.scrollrunning=true;y.timer=B(u)}};this.cancelScroll=function(){if(y.timer)X(y.timer);y.timer=0;y.bzscroll=false;y.scrollrunning=false;return y}}this.doScrollBy=function(e,r){w(0,e)};this.doScrollLeftBy=function(e,r){w(e,0)};this.doScrollTo=function(e,r){var i=r?Math.round(e*y.scrollratio.y):e;if(i<0)i=0;else if(i>y.page.maxh)i=y.page.maxh;y.cursorfreezed=false;y.doScrollTop(e)};this.checkContentSize=function(){var e=y.getContentSize();if(e.h!=y.page.h||e.w!=y.page.w)y.resize(false,e)};y.onscroll=function(e){if(y.rail.drag)return;if(!y.cursorfreezed){y.synched("scroll",function(){y.scroll.y=Math.round(y.getScrollTop()/y.scrollratio.y);if(y.railh)y.scroll.x=Math.round(y.getScrollLeft()/y.scrollratio.x);y.noticeCursor()})}};y.bind(y.docscroll,"scroll",y.onscroll);this.doZoomIn=function(e){if(y.zoomactive)return;y.zoomactive=true;y.zoomrestore={style:{}};var r=["position","top","left","zIndex","backgroundColor","marginTop","marginBottom","marginLeft","marginRight"];var i=y.win[0].style;for(var t in r){var o=r[t];y.zoomrestore.style[o]=i[o]!==undefined?i[o]:""}y.zoomrestore.style.width=y.win.css("width");y.zoomrestore.style.height=y.win.css("height");y.zoomrestore.padding={w:y.win.outerWidth()-y.win.width(),h:y.win.outerHeight()-y.win.height()};if(z.isios4){y.zoomrestore.scrollTop=Y.scrollTop();Y.scrollTop(0)}y.win.css({position:z.isios4?"absolute":"fixed",top:0,left:0,zIndex:R+100,margin:0});var s=y.win.css("backgroundColor");if(""===s||/transparent|rgba\(0, 0, 0, 0\)|rgba\(0,0,0,0\)/.test(s))y.win.css("backgroundColor","#fff");y.rail.css({zIndex:R+101});y.zoom.css({zIndex:R+102});y.zoom.css("backgroundPosition","0 -18px");y.resizeZoom();if(y.onzoomin)y.onzoomin.call(y);return y.cancelEvent(e)};this.doZoomOut=function(e){if(!y.zoomactive)return;y.zoomactive=false;y.win.css("margin","");y.win.css(y.zoomrestore.style);if(z.isios4){Y.scrollTop(y.zoomrestore.scrollTop)}y.rail.css({"z-index":y.zindex});y.zoom.css({"z-index":y.zindex});y.zoomrestore=false;y.zoom.css("backgroundPosition","0 0");y.onResize();if(y.onzoomout)y.onzoomout.call(y);return y.cancelEvent(e)};this.doZoom=function(e){return y.zoomactive?y.doZoomOut(e):y.doZoomIn(e)};this.resizeZoom=function(){if(!y.zoomactive)return;var e=y.getScrollTop();y.win.css({width:Y.width()-y.zoomrestore.padding.w+"px",height:Y.height()-y.zoomrestore.padding.h+"px"});y.onResize();y.setScrollTop(Math.min(y.page.maxh,e))};this.init();_.nicescroll.push(this)};var F=function(e){var m=this;this.nc=e;this.lastx=0;this.lasty=0;this.speedx=0;this.speedy=0;this.lasttime=0;this.steptime=0;this.snapx=false;this.snapy=false;this.demulx=0;this.demuly=0;this.lastscrollx=-1;this.lastscrolly=-1;this.chkx=0;this.chky=0;this.timer=0;this.reset=function(e,r){m.stop();m.steptime=0;m.lasttime=A();m.speedx=0;m.speedy=0;m.lastx=e;m.lasty=r;m.lastscrollx=-1;m.lastscrolly=-1};this.update=function(e,r){var i=A();m.steptime=i-m.lasttime;m.lasttime=i;var t=r-m.lasty;var o=e-m.lastx;var s=m.nc.getScrollTop();var l=m.nc.getScrollLeft();var a=s+t;var n=l+o;m.snapx=n<0||n>m.nc.page.maxw;m.snapy=a<0||a>m.nc.page.maxh;m.speedx=o;m.speedy=t;m.lastx=e;m.lasty=r};this.stop=function(){m.nc.unsynched("domomentum2d");if(m.timer)clearTimeout(m.timer);m.timer=0;m.lastscrollx=-1;m.lastscrolly=-1};this.doSnapy=function(e,r){var i=false;if(r<0){r=0;i=true}else if(r>m.nc.page.maxh){r=m.nc.page.maxh;i=true}if(e<0){e=0;i=true}else if(e>m.nc.page.maxw){e=m.nc.page.maxw;i=true}i?m.nc.doScrollPos(e,r,m.nc.opt.snapbackspeed):m.nc.triggerScrollEnd()};this.doMomentum=function(e){var r=A();var i=e?r+e:m.lasttime;var t=m.nc.getScrollLeft();var o=m.nc.getScrollTop();var s=m.nc.page.maxh;var l=m.nc.page.maxw;m.speedx=l>0?Math.min(60,m.speedx):0;m.speedy=s>0?Math.min(60,m.speedy):0;var a=i&&r-i<=60;if(o<0||o>s||t<0||t>l)a=false;var n=m.speedy&&a?m.speedy:false;var c=m.speedx&&a?m.speedx:false;if(n||c){var u=Math.max(16,m.steptime);if(u>50){var f=u/50;m.speedx*=f;m.speedy*=f;u=50}m.demulxy=0;m.lastscrollx=m.nc.getScrollLeft();m.chkx=m.lastscrollx;m.lastscrolly=m.nc.getScrollTop();m.chky=m.lastscrolly;var d=m.lastscrollx;var h=m.lastscrolly;var p=function(){var e=A()-r>600?.04:.02;if(m.speedx){d=Math.floor(m.lastscrollx-m.speedx*(1-m.demulxy));m.lastscrollx=d;if(d<0||d>l)e=.1}if(m.speedy){h=Math.floor(m.lastscrolly-m.speedy*(1-m.demulxy));m.lastscrolly=h;if(h<0||h>s)e=.1}m.demulxy=Math.min(1,m.demulxy+e);m.nc.synched("domomentum2d",function(){if(m.speedx){var e=m.nc.getScrollLeft();m.chkx=d;m.nc.setScrollLeft(d)}if(m.speedy){var r=m.nc.getScrollTop();m.chky=h;m.nc.setScrollTop(h)}if(!m.timer){m.nc.hideCursor();m.doSnapy(d,h)}});if(m.demulxy<1){m.timer=setTimeout(p,u)}else{m.stop();m.nc.hideCursor();m.doSnapy(d,h)}};p()}else{m.doSnapy(m.nc.getScrollLeft(),m.nc.getScrollTop())}}};var l=e.fn.scrollTop;e.cssHooks.pageYOffset={get:function(e,r,i){var t=_.data(e,"__nicescroll")||false;return t&&t.ishwscroll?t.getScrollTop():l.call(e)},set:function(e,r){var i=_.data(e,"__nicescroll")||false;i&&i.ishwscroll?i.setScrollTop(parseInt(r)):l.call(e,r);return this}};e.fn.scrollTop=function(r){if(r===undefined){var e=this[0]?_.data(this[0],"__nicescroll")||false:false;return e&&e.ishwscroll?e.getScrollTop():l.call(this)}else{return this.each(function(){var e=_.data(this,"__nicescroll")||false;e&&e.ishwscroll?e.setScrollTop(parseInt(r)):l.call(_(this),r)})}};var a=e.fn.scrollLeft;_.cssHooks.pageXOffset={get:function(e,r,i){var t=_.data(e,"__nicescroll")||false;return t&&t.ishwscroll?t.getScrollLeft():a.call(e)},set:function(e,r){var i=_.data(e,"__nicescroll")||false;i&&i.ishwscroll?i.setScrollLeft(parseInt(r)):a.call(e,r);return this}};e.fn.scrollLeft=function(r){if(r===undefined){var e=this[0]?_.data(this[0],"__nicescroll")||false:false;return e&&e.ishwscroll?e.getScrollLeft():a.call(this)}else{return this.each(function(){var e=_.data(this,"__nicescroll")||false;e&&e.ishwscroll?e.setScrollLeft(parseInt(r)):a.call(_(this),r)})}};var i=function(e){var r=this;this.length=0;this.name="nicescrollarray";this.each=function(e){_.each(r,e);return r};this.push=function(e){r[r.length]=e;r.length++};this.eq=function(e){return r[e]};if(e){for(var i=0;i<e.length;i++){var t=_.data(e[i],"__nicescroll")||false;if(t){this[this.length]=t;this.length++}}}return this};function t(e,r,i){for(var t=0,o=r.length;t<o;t++)i(e,r[t])}t(i.prototype,["show","hide","toggle","onResize","resize","remove","stop","doScrollPos"],function(e,r){e[r]=function(){var e=arguments;return this.each(function(){this[r].apply(this,e)})}});e.fn.getNiceScroll=function(e){if(e===undefined){return new i(this)}else{return this[e]&&_.data(this[e],"__nicescroll")||false}};var c=e.expr.pseudos||e.expr[":"];c.nicescroll=function(e){return _.data(e,"__nicescroll")!==undefined};_.fn.niceScroll=function(s,l){if(l===undefined&&typeof s=="object"&&!("jquery"in s)){l=s;s=false}var a=new i;this.each(function(){var e=_(this);var r=_.extend({},l);if(s||false){var i=_(s);r.doc=i.length>1?_(s,e):i;r.win=e}var t=!("doc"in r);if(!t&&!("win"in r))r.win=e;var o=e.data("__nicescroll")||false;if(!o){r.doc=r.doc||e;o=new n(r,e);e.data("__nicescroll",o)}a.push(o)});return a.length===1?a[0]:a};O.NiceScroll={getjQuery:function(){return e}};if(!_.nicescroll){_.nicescroll=new i;_.nicescroll.options=q}});
